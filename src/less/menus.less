// Menus
//
// By default menus are horizontal and take up 100% width. Use custom or preset modifiers
// to change the apperance and d tip
// is to add a custom attribute to limit the menu width or set
// the menu to display:inline-block.
//
// Markup:
// <div pam-Menu>
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home sweet home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Stuff</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>About</a></li>
//     </ul>
// </div>
//
// Weight: 8
//
// Style guide: menus


//  Variables
// ==================================================================

@menu-arrow-horizontal: "\25BE";
@menu-arrow-vertical: "\25B8";
@menu-children-color: #fff;
@menu-disabled-opacity: @opacity-base;
@menu-heading-color: #565d64;
@menu-link-color: #777;
@menu-link-hover-bg-color: #eee;
@menu-selected-link-color: #000;
@menu-seperator-bg-color:  #ccc;
@menu-seperator-length: 1.3rem;
@menu-seperator-thickness: 1px;


// ==================================================================
// Menu
// ==================================================================

[pam-Menu] {
    box-sizing: border-box;

    .hook-menu;
}

[pam-Menu-List],
[pam-Menu-Item] {
    position: relative;
}

[pam-Menu-List] {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;

    .hook-menu-list;
}

[pam-Menu-Item] {
    margin: 0;
    padding: 0;

    .hook-menu-item;
}

[pam-Menu-Link],
[pam-Menu-Heading] {
    display: block;
    text-decoration: none;
    white-space: nowrap;

    .hook-menu-link-heading;
}


//  Modifier: fixed
// ==================================================================

[pam-Menu~="fixed"] {
    left: 0;
    position: fixed;
    top: 0;
    z-index: 3;

    .hook-menu-fixed;
}


//  Modifier: vertical
// ==========================================================================

// Vertical
//
// Well, the name explains it.
//
// Markup:
// <div pam-Menu="vertical">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home sweet home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Stuff</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>About</a></li>
//     </ul>
// </div>
//
// Weight: 1
//
// Style guide: menus.vertical

[pam-Menu~="vertical"] {
    // .hook-menu-vertical;
}

[pam-Menu~="vertical"] [pam-Menu-List] {
    display: flex;
    flex-direction: column;

    // .hook-menu-vertical-list;
}

[pam-Menu~="vertical"] [pam-Menu-Item],
[pam-Menu~="vertical"] [pam-Menu-Heading],
[pam-Menu~="vertical"] [pam-Menu-Separator] {
    display: inline-block;
    vertical-align: middle;

    // .hook-menu-vertical-item;
}


//  Modifier: truncated
// ==================================================================

// Truncated
//
// Collapse the menu width to the widest menu item.
//
// Markup:
// <div pam-Menu="vertical truncated">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home sweet home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Stuff</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>About</a></li>
//     </ul>
// </div>
//
// Weight: 2
//
// Style guide: menus.truncated

[pam-Menu~="truncated"] {
    display: inline-flex;

    .hook-menu-truncated;
}


// Modifier: fill
// ========================================================================

// Fill
//
// Extends the menu over the available width.
//
// Markup:
// <div pam-Menu="fill">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home sweet home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Stuff</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>About</a></li>
//     </ul>
// </div>
//
// Weight: 3
//
// Style guide: menus.fill

[pam-Menu~="fill"] {
    .hook-menu-fill;
}

[pam-Menu~="fill"] [pam-Menu-List] {
    .hook-menu-fill-list;
}

[pam-Menu~="fill"] [pam-Menu-Item],
[pam-Menu~="fill"] [pam-Menu-Heading],
[pam-Menu~="fill"] [pam-Menu-Separator] {
    flex: 1 1 auto;
    text-align: center;

    .hook-menu-fill-item;
}


// Modifier: justified
// ========================================================================

// Justified
//
// Extends the menu items of equal-width over the available width.
//
// Markup:
// <div pam-Menu="justified">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home sweet home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Stuff</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>About</a></li>
//     </ul>
// </div>
//
// Weight: 3
//
// Style guide: menus.justified

[pam-Menu~="justified"] {
    .hook-menu-justified;
}

[pam-Menu~="justified"] [pam-Menu-List] {
    .hook-menu-justified-list;
}

[pam-Menu~="justified"] [pam-Menu-Item],
[pam-Menu~="justified"] [pam-Menu-Heading],
[pam-Menu~="justified"] [pam-Menu-Separator] {
    flex: 1 1 100%;
    text-align: center;

    .hook-menu-justified-item;
}


//  Submenu
// ==========================================================================

// Sub
//
// To enable a dropdown use `pam-Menu-Item` and `pam-Menu-Has-Children` this can be used with `limited`and  `horizontal`menu types.
//
// Weight: 5
//
// Style guide: menus.sub

// Vertical
//
// A vertical submenu is enabled with the limited menu type.
//
// Markup:
// <div pam-Menu="limited">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item>
//             <a href="#" pam-Menu-Link>Home</a>
//         </li>
//         <li pam-Menu-Item pam-Menu-Has-Children pam-Menu-Allow-Hover>
//             <a href="#" pam-Menu-Link>Stuff</a>
//             <ul pam-Menu-Children>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">Node</a></li>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">JavaScript</a></li>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">Angular</a></li>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">React</a></li>
//             </ul>
//         </li>
//     </ul>
// </div>
//
// Style guide: menus.sub.vertical

// Dropdown
//
// By using the horizontal menu type, a dropdown sub menu can be created.
//
// Markup:
// <div pam-Menu="horizontal">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item>
//             <a href="#" pam-Menu-Link>Home</a>
//         </li>
//         <li pam-Menu-Item pam-Menu-Has-Children pam-Menu-Allow-Hover>
//             <a href="#" pam-Menu-Link>Stuff</a>
//             <ul pam-Menu-Children>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">Node</a></li>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">JavaScript</a></li>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">Angular</a></li>
//                 <li pam-Menu-Item><a pam-Menu-Link href="#">React</a></li>
//             </ul>
//         </li>
//     </ul>
// </div>
//
// Style guide: menus.sub.dropdown

[pam-Menu-Item] [pam-Menu-Item] {
    display: block;
}

[pam-Menu-Children] {
    display: none;
    left: 100%;
    margin: 0;
    padding: 0;
    position: absolute;
    top: 0;
    z-index: 3;

    .hook-menu-children;
}

[pam-Menu~="horizontal"] [pam-Menu-Children] {
    left: 0;
    top: auto;
    width: inherit;

    .hook-menu-horizontal-children;
}

[pam-Menu-Allow-Hover]:hover > [pam-Menu-Children],
[pam-Menu-Active] > [pam-Menu-Children] {
    display: block;
    position: absolute;

    .hook-menu-active-children;
}

/* Vertical Menus - show the dropdown arrow */
[pam-Menu-Has-Children] > [pam-Menu-Link]::after {
    content: @menu-arrow-vertical;
    font-size: small;
    padding-left: 0.5rem;

    .hook-menu-has-children-link-after;
}

/* Horizontal Menus - show the dropdown arrow */
[pam-Menu~="horizontal"] [pam-Menu-Has-Children] > [pam-Menu-Link]::after {
    content: @menu-arrow-horizontal;

    .hook-menu-horizontal-has-children-link-after;
}


//  Scrollable
// ==========================================================================

// Scrollable
//
// Limit the height of the menu and use the `scrollable` menu attribute.
// This creates a scrollable menu.
//
// Markup:
// <div pam-Menu="scrollable" pam-Menu-Scrollable-Test>
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>JavaScript</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>C++</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Dart</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Smalltalk</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Cobol</a></li>
//     </ul>
// </div>
//
// Weight: 4
//
// Style guide: menus.scrollable

[pam-Menu~="scrollable"] {
    overflow-x: hidden;
    overflow-y: scroll;

    .hook-menu-scrollable;
}

[pam-Menu~="scrollable"] [pam-Menu-List] {
    display: block;

    .hook-menu-scrollable-list;
}

// Horizontal
//
// To enable a scrollable horizontal menu, use the `horizontal` menu type
// with the `scrollable` attribute. When there isn't enough room,
// the menu items can be scrolled.
//
// Markup:
// <div pam-Menu="horizontal scrollable">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>JavaScript</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>C++</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Dart</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Smalltalk</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Cobol</a></li>
//     </ul>
// </div>
//
// Style guide: menus.scrollable.horizontal

[pam-Menu~="horizontal"][pam-Menu~="scrollable"] [pam-Menu-List] {
    display: inline-block;

    .hook-menu-horizontal-scrollable-list;
}

[pam-Menu~="horizontal"][pam-Menu~="scrollable"] {
    overflow-x: auto;
    overflow-y: hidden;
    padding: 0.5rem 0;
    white-space: nowrap;
    -ms-overflow-style: none;
    -webkit-overflow-scrolling: touch;

    .hook-menu-horizontal-scrollable;
}

[pam-Menu~="horizontal"][pam-Menu~="scrollable"]::-webkit-scrollbar {
    display: none;

    .hook-menu-horizontal-scrollable-scrollbar;
}


//  Misc Menu Traits
// ==========================================================================

// Separator
//
// To add a menu separator use the `pam-Menu-Separator` attribute in a li element. It works the same for horizontal menus.
//
// Markup:
// <div pam-Menu="vertical truncated">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home</a></li>
//         <li pam-Menu-Separator></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>JavaScript</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>C++</a></li>
//         <li pam-Menu-Separator></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Smalltalk</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Cobol</a></li>
//     </ul>
// </div>
//
// Weight: 8
//
// Style guide: menus.seperator

[pam-Menu] [pam-Menu-Separator] {
    background-color: @menu-seperator-bg-color;
    height: auto;
    margin: 0 @space-base;
    width: @menu-seperator-thickness;

    .hook-menu-separator;
}

[pam-Menu~="vertical"] [pam-Menu-Separator] {
    height: @menu-seperator-thickness;
    margin: @space-base 0;
    width: auto;

    .hook-menu-vertical-separator;
}


// Heading
//
// `pam-Menu-Heading` is used to add a heading to menus.
//
// Markup:
// <div pam-Menu="vertical">
//     <a href="#" pam-Menu-Heading>Menu title</a>
//     <ul pam-Menu-List>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>Home</a></li>
//         <li pam-Menu-Item><a href="#" pam-Menu-Link>About</a></li>
//     </ul>
// </div>
//
// Weight: 7
//
// Style guide: menus.heading

[pam-Menu-Heading] {
    color: @menu-heading-color;

    .hook-menu-heading;
}

[pam-Menu-Link] {
    color: @menu-link-color;

    .hook-menu-link;
}

[pam-Menu-Children] {
    background-color: @menu-children-color;

    .hook-menu-children;
}

[pam-Menu-Link],
[pam-Menu-Heading] {
    padding: @space-8 @space-16;
}


// States
//
// `pam-Menu-Selected and pam-Menu-Disabled` are AMCSS traits used to set if a menu item should be selected or disabled.
//
// Markup:
// <div pam-Menu="horizontal">
//     <ul pam-Menu-List>
//         <li pam-Menu-Item pam-Menu-Selected>
//             <a href="#" pam-Menu-Link>Home</a>
//         </li>
//         <li pam-Menu-Item>
//             <a href="#" pam-Menu-Link>About</a>
//         </li>
//         <li pam-Menu-Item pam-Menu-Disabled>
//             <a href="#" pam-Menu-Link>Stuff</a>
//         </li>
//     </ul>
// </div>
//
// Weight: 6
//
// Style guide: menus.states

[pam-Menu-Disabled] {
    opacity: @menu-disabled-opacity;

    .hook-menu-disabled;
}

[pam-Menu-Disabled] [pam-Menu-Link] {
    cursor: not-allowed;

    // .hook-menu-disabled-link-hover;
}

[pam-Menu-Disabled] [pam-Menu-Link]:hover {
    background-color: transparent;

    .hook-menu-disabled-link-hover;
}

//TODO: Add active child item documentation
[pam-Menu-Active] > [pam-Menu-Link],
[pam-Menu-Link]:hover,
[pam-Menu-Link]:focus {
    background-color: @menu-link-hover-bg-color;

    .hook-menu-link-hover-focus;
}

[pam-Menu-Selected] [pam-Menu-Link],
[pam-Menu-Selected] [pam-Menu-Link]:visited {
    color: @menu-selected-link-color;

    .hook-menu-selected-link;
}


//  Hooks
// ==========================================================================

// Hooks
//
// `.hook-menu`
// `.hook-menu-fixed`
// `.hook-menu-fill`
// `.hook-menu-fill-list`
// `.hook-menu-fill-item`
// `.hook-menu-truncated`
// `.hook-menu-list`
// `.hook-menu-item`
// `.hook-menu-link-heading`
// `.hook-menu-horizontal`
// `.hook-menu-horizontal-list`
// `.hook-menu-horizontal-item`
// `.hook-menu-justified`
// `.hook-menu-justified-list`
// `.hook-menu-justified-item`
// `.hook-menu-children`
// `.hook-menu-horizontal-children`
// `.hook-menu-active-children`
// `.hook-menu-has-children-link-after`
// `.hook-menu-horizontal-has-children-link-after`
// `.hook-menu-scrollable`
// `.hook-menu-scrollable-list`
// `.hook-menu-horizontal-scrollable-list`
// `.hook-menu-horizontal-scrollable`
// `.hook-menu-horizontal-scrollable-scrollbar`
// `.hook-menu-separator`
// `.hook-menu-vertical-separator`
// `.hook-menu-heading`
// `.hook-menu-link`
// `.hook-menu-disabled`
// `.hook-menu-disabled-link-hover`
// `.hook-menu-link-hover-focus`
// `.hook-menu-selected-link`
//
// Weight: 10
//
// Style guide: menus.hooks

/* stylelint-disable block-no-empty */
.hook-menu() {}
.hook-menu-active-children() {}
.hook-menu-children() {}
.hook-menu-disabled() {}
.hook-menu-disabled-link-hover() {}
.hook-menu-fill() {}
.hook-menu-fill-list() {}
.hook-menu-fill-item() {}
.hook-menu-fixed() {}
.hook-menu-has-children-link-after() {}
.hook-menu-heading() {}
.hook-menu-horizontal() {}
.hook-menu-horizontal-children() {}
.hook-menu-horizontal-has-children-link-after() {}
.hook-menu-horizontal-item() {}
.hook-menu-horizontal-list() {}
.hook-menu-horizontal-scrollable() {}
.hook-menu-horizontal-scrollable-list() {}
.hook-menu-horizontal-scrollable-scrollbar() {}
.hook-menu-horizontal-separator() {}
.hook-menu-item() {}
.hook-menu-justified() {}
.hook-menu-justified-item() {}
.hook-menu-justified-list() {}
.hook-menu-truncated() {}
.hook-menu-link() {}
.hook-menu-link-heading() {}
.hook-menu-link-hover-focus() {}
.hook-menu-list() {}
.hook-menu-scrollable() {}
.hook-menu-scrollable-list() {}
.hook-menu-selected-link() {}
.hook-menu-separator() {}
/* stylelint-enable */
